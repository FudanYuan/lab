<div class="form-wrapper">
    <form class="form-horizontal" method="post" id="main-form">
        <input type="hidden" name="ispublish" value="0"/>
        <div class="form-group {$errors.name ?= 'has-error'}">
            <label for="form-name" class="col-sm-2 control-label">姓名：</label>
            <div class="col-sm-4">
                <input name="name" type="text" class="form-control" id="form-name" value="{$data.name??''}" placeholder="必填">
                <span class="help-block">{$errors.name??''}</span>
            </div>
        </div>
        <div class="form-group {$errors.tutor ?= 'has-error'}">
            <label for="form-digest" class="col-sm-2 control-label">导师：</label>
            <div class="col-sm-4">
                <input name="tutor" type="text" class="form-control" id="form-tutor" value="{$data.tutor??''}" placeholder="必填">
                <span class="help-block">{$errors.tutor??''}</span>
            </div>
        </div>
        <div class="form-group {$errors.tagid ?= 'has-error'}">
            <label for="form-tag" class="col-sm-2 control-label">标签：</label>
            <div class="col-sm-4">
                <select name="tagid" class="form-control" style="width:100px" id="form-tag">
                    <option value="">--选择--</option>
                    {foreach name="tags" item="tag"}
                    <option value="{$tag.id}">{$tag.title}</option>
                    {/foreach}
                </select>
                <span class="help-block">{$errors.tagid ?? ''}</span>
            </div>
        </div>

        <div class="form-group {$errors.phone ?= 'has-error'}">
            <label for="form-phone" class="col-sm-2 control-label">联系方式：</label>
            <div class="col-sm-4">
                <input name="phone" type="text" class="form-control" id="form-phone" value="{$data.phone??''}" placeholder="必填">
                <span class="help-block">{$errors.phone??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.email ?= 'has-error'}">
            <label for="form-email" class="col-sm-2 control-label">常用邮箱：</label>
            <div class="col-sm-4">
                <input name="email" type="text" class="form-control" id="form-email" value="{$data.email??''}" placeholder="必填">
                <span class="help-block">{$errors.email??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.address ?= 'has-error'}">
            <label for="form-address" class="col-sm-2 control-label">联系地址：</label>
            <div class="col-sm-4">
                <input name="address" type="text" class="form-control" id="form-address" value="{$data.address??''}" placeholder="必填">
                <span class="help-block">{$errors.address??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.position ?= 'has-error'}">
            <label for="form-position" class="col-sm-2 control-label">职称：</label>
            <div class="col-sm-4">
                <input name="position" type="text" class="form-control" id="form-position" value="{$data.position??''}"  placeholder="非必填">
                <span class="help-block">{$errors.position??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.url ?= 'has-error'}">
            <label for="form-url" class="col-sm-2 control-label">链接：</label>
            <div class="col-sm-4">
                <input name="url" type="text" class="form-control" id="form-url" value="{$data.url??''}" placeholder="非必填">
                <span class="help-block">{$errors.url??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.research_area ?= 'has-error'}">
            <label for="form-research_area" class="col-sm-2 control-label">研究方向：</label>
            <div class="col-sm-4">
                <!--<input name="research_area" type="text" class="form-control" id="form-research_area" value="{$data.research_area??''}" placeholder="必填，添加对象为实验室时，该字段为首页的实验室简介">-->
                <textarea class="form-control" id="form-research_area" name="research_area" style="width: 100%; height: 100px; margin-top:5px;" placeholder="必填，添加对象为实验室时，该字段为首页的实验室简介">{$data.research_area??''}</textarea>
                <span class="help-block">{$errors.research_area??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.iscurrent ?= 'has-error'}">
            <label for="form-iscurrent" class="col-sm-2 control-label">校友：</label>
            <div class="col-sm-4">
                <input type="checkbox" id="iscurrent"
                       {if condition="isset($data.iscurrent) && !$data.iscurrent"}
                       checked="checked"
                       {/if}/>
                <input name="iscurrent" type="hidden" class="form-control" id="form-iscurrent"
                       value="{$data.iscurrent??1}">
                <span class="help-block">{$errors.iscurrent??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.digest ?= 'has-error'}">
            <label for="form-digest" class="col-sm-2 control-label">摘要：</label>
            <div class="col-sm-4">

                <textarea class="form-control" id="form-digest" name="digest" style="width: 100%; height: 100px; margin-top:5px;" placeholder="必填，若为已毕业学生，此项为毕业后学生去向；若为实验室时，此项为实验室招生信息">{$data.digest??''}</textarea>
                <span class="help-block">{$errors.digest??''}</span>
            </div>
        </div>

        <div class="form-group {$errors.img ?= 'has-error'}">
            <label class="col-sm-2 control-label">封面照片：</label>
            <div class="col-sm-4">
                <div id="filelist">
                    <div>{$data.img_origin??''}<b></b></div>
                </div>
                <br/>
                <div id="upload-wrapper">
                    <a id="pickfiles" href="javascript:;">选择文件</a>
                    <a id="uploadfiles" href="javascript:;">上传</a>
                </div>
                <input type="hidden" name="img" value="{$data.img??''}"/>
                <input type="hidden" name="img_origin" value="{$data.img_origin??''}"/>
                <span class="help-block">{$errors.img ?? ''}</span>
            </div>
        </div>
        <div class="form-group {$errors.bgimg ?= 'has-error'}" hidden>
            <label class="col-sm-2 control-label">主页照片：</label>
            <div class="col-sm-4">
                <div id="filelist-bg">
                    <div>{$data.bgimg_origin??''}<b></b></div>
                </div>
                <br/>
                <div id="upload-wrapper-bg">
                    <a id="pickfiles-bg" href="javascript:;">选择文件</a>
                    <a id="uploadfiles-bg" href="javascript:;">上传</a>
                </div>
                <input type="hidden" name="bgimg" value="{$data.bgimg??''}"/>
                <input type="hidden" name="bgimg_origin" value="{$data.bgimg_origin??''}"/>
                <span class="help-block">{$errors.bgimg ?? ''}</span>
            </div>
        </div>

        <div class="form-group {$errors.descr ?= 'has-error'}">
            <label class="col-sm-2 control-label">个人介绍：</label>
            <span class="help-block">{$errors.descr ?? ''}</span>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-1 col-sm-10">
                <script id="editor" type="text/plain" style="width:100%;height:500px;" name="descr">
                            {$data.descr ?? ''}
                        </script>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10 lab-btns">
                <a id="form-publish" class="btn btn-primary">发布</a>
                <button type="submit" class="btn btn-success">保存</button>
                <a id="form-cancel" class="btn btn-info">取消</a>
                <!-- <a id="form-delete" class="btn btn-default">删除</a> -->
            </div>
        </div>
    </form>
</div>